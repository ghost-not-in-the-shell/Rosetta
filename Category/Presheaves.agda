{-# OPTIONS --type-in-type        #-}
{-# OPTIONS --allow-unsolved-meta #-}
module Rosetta.Category.Presheaves where
open import Rosetta.Prelude
open import Rosetta.Category.CartesianClosed
open import Rosetta.Category.Core
open import Rosetta.Category.HomFunctor
open import Rosetta.Category.Functors
open import Rosetta.Category.Setoids
open import Rosetta.Category.Sets

PSh : Category â†’ Set
PSh ğ“’ = ğ“’ áµ’áµ– âŸ¶ ğ“¢ğ“®ğ“½

ğ“Ÿğ“¢ğ“± : Category â†’ Category
ğ“Ÿğ“¢ğ“± ğ“’ = [ ğ“’ áµ’áµ– , ğ“¢ğ“®ğ“½ ]

module ğ“Ÿğ“¢ğ“± ğ“’ where
  infixr 6 _Ã—_
  infixl 7 _^_

  ğŸ™ : PSh ğ“’
  ğŸ™ = record
    { _â‚€_      = Î» _ â†’ ğ“¢ğ“®ğ“½.ğŸ™
    ; _â‚_      = Î» _ â†’ !
    ; _â‚-cong_ = Î» _ _ â†’ tt
    ; _resp-âˆ˜â‚€ = Î» _ â†’ tt
    ; _resp-âˆ˜â‚‚ = Î» _ â†’ tt
    }

  _Ã—_ : PSh ğ“’ â†’ PSh ğ“’ â†’ PSh ğ“’
  ğ“• Ã— ğ“– = record
    { _â‚€_      = Î» A â†’ (ğ“• â‚€ A)  ğ“¢ğ“®ğ“½.Ã—  (ğ“– â‚€ A)
    ; _â‚_      = Î» f â†’ (ğ“• â‚ f)      Ã—â‚ (ğ“– â‚ f)
    ; _â‚-cong_ = Î» p â†’ (ğ“• â‚-cong p) Ã—â‚ (ğ“– â‚-cong p)
    ; _resp-âˆ˜â‚€ = (ğ“• resp-âˆ˜â‚€) Ã—â‚ (ğ“– resp-âˆ˜â‚€)
    ; _resp-âˆ˜â‚‚ = (ğ“• resp-âˆ˜â‚‚) Ã—â‚ (ğ“– resp-âˆ˜â‚‚)
    }

  _^_ : PSh ğ“’ â†’ PSh ğ“’ â†’ PSh ğ“’
  ğ“– ^ ğ“• = record
    { _â‚€_      = Î» A â†’ ğ’‰ğ’ğ’ ğ“ğ“ªğ“½ (ğ“’ â‚-, A â‚ Ã— ğ“•) ğ“–
    ; _â‚_      = Î» f â†’ {!!}
    ; _â‚-cong_ = {!!}
    ; _resp-âˆ˜â‚€ = {!!}
    ; _resp-âˆ˜â‚‚ = {!!}
    }

  !á´¾ : âˆ€ {ğ“•} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“• âŸ¶ ğŸ™
  !á´¾ {ğ“•} = record
    { _at_    = Î» A â†’ !â‚ ğ“• â‚€ A â‚
    ; natural = {!!}
    }

  Ï€â‚á´¾ : âˆ€ {ğ“• ğ“–} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“• Ã— ğ“– âŸ¶ ğ“•
  Ï€â‚á´¾ {ğ“•} {ğ“–} = record
    { _at_    = Î» A â†’ Ï€â‚â‚ ğ“• â‚€ A , ğ“– â‚€ A â‚
    ; natural = {!!}
    }

  Ï€â‚‚á´¾ : âˆ€ {ğ“• ğ“–} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“• Ã— ğ“– âŸ¶ ğ“–
  Ï€â‚‚á´¾ {ğ“•} {ğ“–} = record
    { _at_    = Î» A â†’ Ï€â‚‚â‚ ğ“• â‚€ A , ğ“– â‚€ A â‚
    ; natural = {!!}
    }

  âŸ¨_,_âŸ©á´¾ : âˆ€ {ğ“• ğ“– ğ“§} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ âŸ¶ ğ“• â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ âŸ¶ ğ“– â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ âŸ¶ ğ“• Ã— ğ“–
  âŸ¨ Î± , Î² âŸ©á´¾ = record
    { _at_    = Î» A â†’ âŸ¨ Î± at A , Î² at A âŸ©
    ; natural = {!!}
    }

  Îµá´¾ : âˆ€ {ğ“• ğ“–} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“– ^ ğ“• Ã— ğ“• âŸ¶ ğ“–
  Îµá´¾ = {!!}

  Æ›á´¾_ : âˆ€ {ğ“• ğ“– ğ“§} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ Ã— ğ“• âŸ¶ ğ“– â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ âŸ¶ ğ“– ^ ğ“•
  Æ›á´¾_ = {!!}



instance
  ğ“Ÿğ“¢ğ“±_âˆ£opâœ“ : âˆ€ ğ“’ â†’ Opâœ“ (ğ“Ÿğ“¢ğ“± ğ“’ âˆ£_âŸ¶_)
  ğ“Ÿğ“¢ğ“± ğ“’ âˆ£opâœ“ =
    let open ğ“Ÿğ“¢ğ“± ğ“’

        ! : âˆ€ {ğ“•} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“• âŸ¶ ğŸ™
        ! {ğ“•} = record
          { _at_    = Î» A â†’ !â‚ ğ“• â‚€ A â‚
          ; natural = {!!}
          }

        Ï€â‚ : âˆ€ {ğ“• ğ“–} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“• Ã— ğ“– âŸ¶ ğ“•
        Ï€â‚ {ğ“•} {ğ“–} = record
          { _at_    = Î» A â†’ Ï€â‚â‚ ğ“• â‚€ A , ğ“– â‚€ A â‚
          ; natural = {!!}
          }

        Ï€â‚‚ : âˆ€ {ğ“• ğ“–} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“• Ã— ğ“– âŸ¶ ğ“–
        Ï€â‚‚ {ğ“•} {ğ“–} = record
          { _at_    = Î» A â†’ Ï€â‚‚â‚ ğ“• â‚€ A , ğ“– â‚€ A â‚
          ; natural = {!!}
          }

        âŸ¨_,_âŸ© : âˆ€ {ğ“• ğ“– ğ“§} â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ âŸ¶ ğ“• â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ âŸ¶ ğ“– â†’ ğ“Ÿğ“¢ğ“± ğ“’ âˆ£ ğ“§ âŸ¶ ğ“• Ã— ğ“–
        âŸ¨ Î± , Î² âŸ© = record
          { _at_    = Î» A â†’ âŸ¨ Î± at A , Î² at A âŸ©
          ; natural = {!!}
          }
    in record
    { ğŸ™   = ğŸ™
    ; _Ã—_ = _Ã—_
    ; _^_ = _^_
    ; !     = !
    ; Ï€â‚    = Î» {ğ“• ğ“–} â†’ Ï€â‚ {ğ“•} {ğ“–}
    ; Ï€â‚‚    = Î» {ğ“• ğ“–} â†’ Ï€â‚‚ {ğ“•} {ğ“–}
    ; âŸ¨_,_âŸ© = âŸ¨_,_âŸ©
    ; Îµ     = Îµá´¾
    ; Æ›_    = Æ›á´¾_
    }
